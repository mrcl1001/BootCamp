<html>

<head>
    <title>D3</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>

<body>
    <!-- div es un Elemento contenedor. Como el elemento g para svg.-->
    <div>
        <!--Elemento Parrafo-->
        <!--p> Texto Ejemplo</p>
        <p> </p>
        <p> </p-->
    </div>

    <script>
        //Array
        /*
        var dataset = ["Mensaje 1", "Mensaje 2", "Mensaje 3", "Mensaje 4"];
        d3.select("div")
            .selectAll("p")
            .data(dataset)
            .enter()
            .append("p")
            .text((d) => {
                return d
            })
        */

        /*
        var dataset = ["Mensaje", "Mensaje", "Mensaje", "Mensaje"];
        d3.select("div")
            .selectAll("p")
            .data(dataset)
            .enter()
            .append("p")
            .text((d, i) => {
                return d + " " + i
            })
        */

        //var dataset = ["Texto Modificado"];

        //Diccionario de Objetos
        var dataset = [{
            x: 20,
            y: 30,
            r: 10
        }, {
            x: 50,
            y: 55,
            r: 20
        }, {
            x: 80,
            y: 90,
            r: 25
        }, {
            x: 110,
            y: 60,
            r: 15
        }, {
            x: 150,
            y: 30,
            r: 5
        }];

        var svg = d3.select("div")
            .append("svg")
            .attr("width", 800)
            .attr("height", 600);

        var circle = svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle")
            .attr("cx", (d, i) => {
                return d.x
            })
            .attr("cy", (d, i) => {
                return d.y
            })
            //.attr("r", 5)
            .attr("r", (d, i) => {
                return d.r
            })
            .attr("fill", "green");

        circle.transition()
            .ease(d3.easeBounce)
            .duration(1000)
            .delay(function(d, i) {
                return i * 200
            })
            .attr("cx", (d, i) => {
                return d.x + 200
            });

        circle.transition()
            .duration(200)
            .delay(1800)
            .attr("opacity", 0.5)
    </script>
</body>

</html>